<!doctype html><html lang="en"><head><meta charset="utf-8"><title>Custom Elements — WebComponents.org</title><meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1"><meta name="google-site-verification" content="px-LvGmZP4t9mI3QVcWkTYciiRbToixpY-F-NfIybaE"><meta name="author" content="Community"><meta name="description" content="A place to discuss and evolve Web Component best-practices"><meta name="theme-color" content="#3a99d7"><meta property="og:title" content="Custom Elements — WebComponents.org"><meta property="og:image" content="http://webcomponents.org/img/logo.png"><meta property="og:url" content="http://webcomponents.org/polyfills/custom-elements"><meta property="og:description" content="A place to discuss and evolve Web Component best-practices"><meta name="twitter:card" content="summary"><meta name="twitter:title" content="Custom Elements — WebComponents.org"><meta name="twitter:description" content="A place to discuss and evolve Web Component best-practices"><meta name="twitter:image" content="http://webcomponents.org/img/logo.png"><meta name="twitter:site" content="@Web_Components"><link rel="stylesheet" href="http://webcomponents.org/css/main.min.css"><link rel="stylesheet" href="http://webcomponents.org/css/syntax-highlight.min.css"><!--[if lt IE 10]>
    <link rel="stylesheet" media="all" href="http://webcomponents.org/css/ielt10.min.css">
    <![endif]--><link rel="icon" type="image/x-icon" href="http://webcomponents.org/img/favicon.ico"><link rel="publisher" href="https://plus.google.com/+WebcomponentsOrg"><script src="//use.typekit.net/ksn6mlw.js"></script><script>try{Typekit.load();}catch(e){}</script></head><body><div class="page-wrap"><header class="header-bar" role="banner"><div class="wrapper"><a class="logo" href="http://webcomponents.org"><img src="http://webcomponents.org/img/logo.svg" alt="WebComponents.org" width="60" height="39"> </a><a class="menu-button"><span></span> <span></span> <span></span></a><nav class="nav desktop-only" role="navigation" itemscope itemtype="http://schema.org/SiteNavigationElement"><ul><li class="nav-item"><a href="http://webcomponents.org/" class="nav-link" title="Home" itemprop="url"><span itemprop="name">Home</span></a></li><li class="nav-item nav-active"><a href="http://webcomponents.org/polyfills/" class="nav-link" title="Polyfills" itemprop="url"><span itemprop="name">Polyfills</span></a></li><li class="nav-item"><a href="http://webcomponents.org/articles/" class="nav-link" title="Articles" itemprop="url"><span itemprop="name">Articles</span></a></li><li class="nav-item"><a href="http://webcomponents.org/presentations/" class="nav-link" title="Presentations" itemprop="url"><span itemprop="name">Presentations</span></a></li><li class="nav-item"><a href="http://webcomponents.org/podcasts/" class="nav-link" title="Podcasts" itemprop="url"><span itemprop="name">Podcasts</span></a></li><li class="nav-item"><a href="http://webcomponents.org/resources/" class="nav-link" title="Resources" itemprop="url"><span itemprop="name">Resources</span></a></li></ul></nav><script>(function() {
            var cx = '006706517617519397807:s_k6dwkdtby';
            var gcse = document.createElement('script');
            gcse.type = 'text/javascript';
            gcse.async = true;
            gcse.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') +
                '//www.google.com/cse/cse.js?cx=' + cx;
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(gcse, s);
        })();</script><div class="search-box desktop-only"><gcse:search></gcse:search></div></div></header><div id="resources" class="wrapper"><main class="layout-single" role="main"><div class="single-content" role="article"><section class="card card-story" role="region"><p class="title" itemprop="name">Custom Elements</p><div class="post-info" role="complementary"><p class="post-edit"><span class="icon-pencil"></span> <a href="https://github.com/webcomponents/webcomponents.github.io/edit/site/src/documents/polyfills/custom-elements.html.md">Edit this page</a></p></div><div class="description" itemprop="text"><h2 id="learn-the-tech">Learn the tech</h2><h3 id="why-custom-elements-">Why Custom Elements?</h3><p><a href="http://w3c.github.io/webcomponents/spec/custom/">Custom Elements</a> allow authors define their own custom HTML elements. Authors associate JavaScript code with custom tag names, and then use those custom tag names as they would any standard tag.</p><p>For example, after registering a special kind of button called <code>super-button</code>, use the super button just like this:</p><pre class="highlight"><code class="hljs actionscript">&lt;<span class="hljs-keyword">super</span>-button&gt;&lt;/<span class="hljs-keyword">super</span>-button&gt;
</code></pre><p>Custom elements are still elements. We can create, use, manipulate, and compose them just as easily as any standard <code>&lt;div&gt;</code> or <code>&lt;span&gt;</code> today.</p><h3 id="basic-usage">Basic usage</h3><p>As with any element, custom elements can be created in JavaScript or declared. <strong>Custom element names must always contain a dash (-).</strong></p><h4 id="element-registration">Element registration</h4><p>Before you can use a custom element, it needs to be registered. Otherwise, the browser considers it an <code>HTMLElement</code>.</p><h5 id="document-registerelement-">document.registerElement()</h5><p>To register a new custom element in JavaScript, invoke <code>document.registerElement()</code> somewhere in the page. As before, custom elements built this way work just like standard elements.</p><p>Here&#39;s the imperative version of the previous example:</p><pre class="highlight"><code class="hljs javascript"><span class="hljs-keyword">var</span> XFooPrototype = <span class="hljs-built_in">Object</span>.create(HTMLElement.prototype);
XFooPrototype.createdCallback = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> </span>{
  <span class="hljs-keyword">this</span>.textContent = <span class="hljs-string">"I'm an x-foo!"</span>;
};

XFooPrototype.foo = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> </span>{
  <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'foo() called'</span>);
};

<span class="hljs-keyword">var</span> XFoo = <span class="hljs-built_in">document</span>.registerElement(<span class="hljs-string">'x-foo'</span>, {
  prototype: XFooPrototype
});
</code></pre><p><strong>Note:</strong> the prototype must be chained to <code>HTMLElement.prototype</code> (i.e. <code>instanceof HTMLElement.prototype</code>).</p><p><strong>Extending existing elements</strong></p><p>If you want to inherit from a specialized form of <code>HTMLElement</code> (e.g. <code>HTMLButtonElement</code>), declare the type using the <code>extends</code> option when calling <code>document.registerElement()</code>:</p><p>Example extending <code>button</code>:</p><pre class="highlight"><code class="hljs javascript"><span class="hljs-keyword">var</span> XFooButtonPrototype = <span class="hljs-built_in">Object</span>.create(HTMLButtonElement.prototype);
XFooButtonPrototype.createdCallback = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> </span>{
  <span class="hljs-keyword">this</span>.textContent = <span class="hljs-string">"I'm an x-foo button!"</span>;
};

<span class="hljs-keyword">var</span> XFooButton = <span class="hljs-built_in">document</span>.registerElement(<span class="hljs-string">'x-foo-button'</span>, {
  prototype: XFooButtonPrototype,
  extends: <span class="hljs-string">'button'</span>
});
</code></pre><h4 id="using-a-custom-element">Using a custom element</h4><p>After registration, you can construct an instance of your element just like standard DOM elements:</p><pre class="highlight"><code class="hljs apache"><span class="hljs-tag">&lt;x-foo&gt;</span><span class="hljs-tag">&lt;/x-foo&gt;</span>
</code></pre><p>If you&#39;ve used <code>extends</code> to create a custom element that derives from an existing DOM element (e.g. something other than <code>HTMLElement</code>), use the <code>is</code> syntax:</p><pre class="highlight"><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-title">button</span> <span class="hljs-attribute">is</span>=<span class="hljs-value">"x-foo-button"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-title">button</span>&gt;</span>
</code></pre><p>In the declarative and <code>document.registerElement()</code> example above, <code>XFoo</code> was defined as the new element&#39;s constructor. This can also be used to create an instance:</p><pre class="highlight"><code class="hljs coffeescript"><span class="hljs-reserved">var</span> xFoo = <span class="hljs-keyword">new</span> XFoo();
<span class="hljs-built_in">document</span>.body.appendChild(xFoo);

<span class="hljs-reserved">var</span> xFooButton = <span class="hljs-built_in">document</span>.createElement(<span class="hljs-string">'button'</span>, <span class="hljs-string">'x-foo-button'</span>);
xFooButton.foo(); <span class="hljs-regexp">//</span> <span class="hljs-string">"foo() called"</span>
</code></pre><p>Browser limitations require that we supply the constructor while you supply the <code>prototype</code>. Use the <code>createdCallback</code> to do initialization work that might otherwise be in a constructor.</p><h2 id="polyfill-details">Polyfill details</h2><h3 id="getting-started">Getting Started</h3><p>First download the <code>webcomponents.js</code> <a href="https://github.com/WebComponents/webcomponentsjs">polyfills</a> using <a href="http://bower.io">Bower</a>:</p><pre class="highlight"><code class="hljs sql">bower <span class="hljs-operator"><span class="hljs-keyword">install</span> <span class="hljs-comment">--save webcomponentsjs</span>
</span></code></pre><p>Include the <code>CustomElements.js</code> or <code>CustomElements.min.js</code> (minified) file in your project.</p><pre class="highlight"><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-title">script</span> <span class="hljs-attribute">src</span>=<span class="hljs-value">"bower_components/webcomponentsjs/CustomElements.js"</span>&gt;</span><span class="javascript"></span><span class="hljs-tag">&lt;/<span class="hljs-title">script</span>&gt;</span>
</code></pre><p>Alternatively, you can directly use <code>webcomponents.js</code> (or the minified <code>webcomponents.min.js</code> file) in your project.</p><h3 id="polyfill-notes">Polyfill Notes</h3><p>The custom elements polyfill handles element upgrades <em>asynchronously</em>. The polyfill defers upgrading elements until <code>DOMContentsLoaded</code> time. It does this as a performance optimization. Subsequent to the initial upgrade pass, Mutation Observers are used to discover new elements.</p><p>To know when the polyfill has finished all of its start up tasks, listen to the <code>WebComponentsReady</code> event on <code>document</code> or <code>window</code>.</p><p>Example:</p><pre class="highlight"><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-title">script</span>&gt;</span><span class="javascript">
  <span class="hljs-comment">// hide body to prevent FOUC</span>
  <span class="hljs-built_in">document</span>.body.style.opacity = <span class="hljs-number">0</span>;
  <span class="hljs-built_in">window</span>.addEventListener(<span class="hljs-string">'WebComponentsReady'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> </span>{
    <span class="hljs-comment">// show body now that everything is ready</span>
    <span class="hljs-built_in">document</span>.body.style.opacity = <span class="hljs-number">1</span>;
  });
</span><span class="hljs-tag">&lt;/<span class="hljs-title">script</span>&gt;</span>
</code></pre><p>The Custom Elements specification is still under discussion. The polyfill implements certain features in advance of the specification. In particular, the lifecycle callback methods that get called if implemented on the element prototype:</p><ul><li><code>createdCallback()</code> is called when a custom element is created.</li><li><code>attachedCallback()</code> is called when a custom element is inserted into a DOM subtree.</li><li><code>detachedCallback()</code> is called when a custom element is removed from a DOM subtree.</li><li><code>attributeChangedCallback(attributeName)</code> is called when a custom element&#39;s attribute value has changed</li></ul><p><code>createdCallback</code> is invoked <em>synchronously</em> with element instantiation, the other callbacks are called <em>asynchronously</em>. The asynchronous callbacks generally use the MutationObserver timing model, which means they are called before layouts, paints, or other triggered events, so the developer need not worry about flashing content or other bad things happening before the callback has a chance to react to changes.</p><h2 id="tools-testing">Tools &amp; Testing</h2><p>For running tests or building minified files, consult the <a href="https://github.com/WebComponents/webcomponentsjs#manually-building">Manual Builds</a> guide.</p></div></section></div><div class="single-sidebar"><section class="card card-tags"><h3>Polyfills</h3><ul class="tag-list"><li><a href="/polyfills/"><span class="icon-arrow-right"></span> Introduction</a></li><li><a href="/polyfills/custom-elements/"><span class="icon-arrow-right"></span> Custom Elements</a></li><li><a href="/polyfills/html-imports/"><span class="icon-arrow-right"></span> HTML Imports</a></li><li><a href="/polyfills/shadow-dom/"><span class="icon-arrow-right"></span> Shadow DOM</a></li></ul></section></div></main></div></div><div class="aux-nav"><nav class="wrapper" role="navigation" itemscope itemtype="http://schema.org/SiteNavigationElement"><ul><li>Learn</li><li><a href="http://webcomponents.org/articles/" title="Articles" itemprop="url"><span itemprop="name">Articles</span></a></li><li><a href="http://webcomponents.org/presentations/" title="Presentations" itemprop="url"><span itemprop="name">Presentations</span></a></li><li><a href="http://webcomponents.org/podcasts/" title="Podcasts" itemprop="url"><span itemprop="name">Podcasts</span></a></li></ul><ul><li>Code</li><li><a href="http://webcomponents.org/polyfills/" title="Polyfills" itemprop="url"><span itemprop="name">Polyfills</span></a></li><li><a href="http://webcomponents.org/resources/" title="Resources" itemprop="url"><span itemprop="name">Resources</span></a></li></ul><ul><li>Community</li><li><a href="http://webcomponents.org/about/" title="About" itemprop="url"><span itemprop="name">About</span></a></li><li><a href="http://webcomponents.org/assets/" title="Assets" itemprop="url"><span itemprop="name">Assets</span></a></li><li><a href="http://webcomponents.org/swags/" title="Swags" itemprop="url"><span itemprop="name">Swags</span></a></li></ul></nav></div><footer class="credits" role="contentinfo"><div class="wrapper"><p>Made with <span class="love">♥</span> by the <a target="_blank" class="credits-link" href="https://github.com/webcomponents/webcomponents.github.io/graphs/contributors" itemprop="publisher">WebComponents.org contributors.</a></p><ul class="social-buttons"><li class="tweet-btn"><iframe src="http://platform.twitter.com/widgets/tweet_button.1359159993.html#_=1360010161235&amp;count=horizontal&amp;id=twitter-widget-0&amp;lang=en&amp;size=m&amp;url=http://webcomponents.org&amp;text=WebComponents.org ~ A place to discuss and evolve Web Component best-practices" class="twitter-share-button twitter-count-horizontal" data-twttr-rendered="true" allowtransparency="true" frameborder="0" scrolling="no" width="100" height="20"></iframe></li><li class="fb-btn"><iframe src="//www.facebook.com/plugins/like.php?href=http://webcomponents.org&amp;send=false&amp;layout=button_count&amp;width=100&amp;show_faces=false&amp;font&amp;colorscheme=light&amp;action=like&amp;height=20&amp;appId=176947299114210" allowtransparency="true" frameborder="0" scrolling="no" width="85" height="20"></iframe></li><li class="gplus-btn"><iframe src="https://plusone.google.com/_/+1/fastbutton?bsv&amp;size=medium&amp;hl=en-US&amp;url=http://webcomponents.org&amp;parent=http://webcomponents.org" allowtransparency="true" frameborder="0" scrolling="no" width="70" height="20"></iframe></li><li class="github-btn"><iframe src="http://ghbtns.com/github-btn.html?user=webcomponents&amp;repo=webcomponents.github.io&amp;type=watch&amp;count=true&amp;size=small" allowtransparency="true" frameborder="0" scrolling="0" width="85" height="20"></iframe></li></ul></div></footer><script src="http://webcomponents.org/js/main.js"></script><script>window.__insp = window.__insp || [];
__insp.push(['wid', 1646634871]);
(function() {
    function __ldinsp(){var insp = document.createElement('script'); insp.type = 'text/javascript'; insp.async = true; insp.id = "inspsync"; insp.src = ('https:' == document.location.protocol ? 'https' : 'http') + '://cdn.inspectlet.com/inspectlet.js'; var x = document.getElementsByTagName('script')[0]; x.parentNode.insertBefore(insp, x); }
    if (window.attachEvent){
        window.attachEvent('onload', __ldinsp);
    }else{
        window.addEventListener('load', __ldinsp, false);
    }
})();</script><script>var _gaq = _gaq || [];
_gaq.push(['_setAccount', 'UA-47408119-2']);
_gaq.push(['_trackPageview']);

(function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
})();</script></body></html>